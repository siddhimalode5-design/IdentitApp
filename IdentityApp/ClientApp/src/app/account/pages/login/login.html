<div class="auth-container">
  <div class="auth-card">
    <h2>Welcome Back</h2>
    <p>Login to your secure identity account</p>

    <!-- GLOBAL SERVER ERROR -->
    <div class="error-box" *ngIf="serverError" [innerHTML]="serverError"></div>

    <form [formGroup]="form" novalidate>

      <!-- EMAIL -->
      <div class="form-group">
        <label>Email</label>
        <input pInputText type="email" formControlName="email" placeholder="Email address" />

        <small *ngIf="get('email')?.touched && get('email')?.invalid">
          Enter a valid email.
        </small>
      </div>

      <!-- PASSWORD -->
      <div class="form-group">
        <label>Password</label>
        <p-password
          formControlName="password"
          placeholder="Enter password"
          [feedback]="false"
          [toggleMask]="true">
        </p-password>

        <small *ngIf="get('password')?.touched && get('password')?.invalid">
          Password must be at least 8 characters.
        </small>
      </div>

      <!-- REMEMBER + FORGOT -->
      <div class="form-group small-row between">
        <div class="remember-me">
          <p-checkbox formControlName="rememberMe" inputId="remember"></p-checkbox>
          <label for="remember">Remember me</label>
        </div>

        <a class="link" (click)="goToForgot()">Forgot Password?</a>
      </div>

      <!-- LOGIN BUTTON -->
      <button
        pButton
        type="button"
        label="Login"
        class="auth-btn"
        (click)="login()"
        [disabled]="form.invalid || loading">
      </button>

      <div *ngIf="loading" style="margin-top:10px;">
        <p>Processing... please wait.</p>
      </div>

      <!-- SOCIAL LOGIN SECTION -->
      <div class="social-container">
        <p class="social-divider">or continue with</p>

        <div class="social-row">
          <button type="button" class="social-btn google">
            <i class="pi pi-google"></i> Google
          </button>

          <button type="button" class="social-btn facebook">
            <i class="pi pi-facebook"></i> Facebook
          </button>

          <button type="button" class="social-btn linkedin">
            <i class="pi pi-linkedin"></i> LinkedIn
          </button>
        </div>
      </div>

      <p class="switch-text">
        Don't have an account?
        <a (click)="goToRegister()">Register</a>
      </p>
    </form>
  </div>
</div>
